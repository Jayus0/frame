# 项目结构说明

## 为什么有多个 .pro 文件？

这是 **Qt 的标准项目组织方式**，使用模块化设计，每个子项目都有自己的 .pro 文件。

### 项目结构

```
EagleFramework.pro          ← 主项目文件（用Qt Creator打开这个）
├── core/
│   └── core.pro            ← 核心库项目（编译成 libEagleCore.so/dll）
└── examples/
    ├── examples.pro        ← 示例项目容器
    ├── sample_plugin/
    │   └── sample_plugin.pro  ← 示例插件项目（编译成插件）
    └── main_app/
        └── main_app.pro    ← 主程序项目（编译成可执行文件）
```

### 各文件的作用

#### 1. **EagleFramework.pro** (主项目文件)
- **作用**: 项目入口，定义整个项目的结构
- **类型**: `TEMPLATE = subdirs` (子目录模板)
- **功能**: 告诉 Qt 这个项目包含多个子项目
- **使用**: 在 Qt Creator 中打开这个文件

#### 2. **core/core.pro** (核心库)
- **作用**: 编译框架核心库
- **类型**: `TEMPLATE = lib` (库模板)
- **输出**: `libEagleCore.so` (Linux) 或 `EagleCore.dll` (Windows)
- **包含**: 所有核心框架代码（PluginManager、ServiceRegistry等）

#### 3. **examples/examples.pro** (示例容器)
- **作用**: 组织所有示例项目
- **类型**: `TEMPLATE = subdirs`
- **功能**: 包含 sample_plugin 和 main_app 两个子项目

#### 4. **examples/sample_plugin/sample_plugin.pro** (示例插件)
- **作用**: 编译示例插件
- **类型**: `TEMPLATE = lib` + `CONFIG += plugin`
- **输出**: `libSamplePlugin.so` (插件文件)
- **用途**: 演示如何开发插件

#### 5. **examples/main_app/main_app.pro** (主程序)
- **作用**: 编译主应用程序
- **类型**: `TEMPLATE = app` (应用程序模板)
- **输出**: `EagleApp` (可执行文件)
- **用途**: 演示如何使用框架

### 为什么这样设计？

#### ✅ 优点：

1. **模块化**: 每个模块独立编译，修改一个模块不影响其他模块
2. **依赖清晰**: 主程序依赖核心库，插件依赖核心库，关系明确
3. **并行编译**: Qt Creator 可以并行编译多个子项目，提高编译速度
4. **易于维护**: 每个模块的配置独立，便于管理
5. **标准做法**: 这是 Qt 官方推荐的项目组织方式

#### 📦 编译顺序：

```
1. core/core.pro          → 先编译核心库
2. sample_plugin.pro      → 再编译插件（依赖核心库）
3. main_app.pro           → 最后编译主程序（依赖核心库和插件）
```

### 如果只想用一个 .pro 文件？

虽然技术上可以合并成一个文件，但会带来问题：

❌ **缺点**:
- 文件会变得非常大（几百行）
- 难以管理不同模块的配置
- 编译时无法并行
- 不符合 Qt 最佳实践

### 使用建议

**在 Qt Creator 中：**
1. 只需打开 `EagleFramework.pro` 这一个文件
2. Qt Creator 会自动识别所有子项目
3. 可以在项目树中看到所有子项目
4. 可以单独编译某个子项目，也可以一次性编译全部

**项目树视图：**
```
EagleFramework
├── core (库)
├── examples
│   ├── sample_plugin (插件)
│   └── main_app (应用程序)
```

### 总结

多个 .pro 文件是 **Qt 项目的标准组织方式**，类似于：
- CMake 中的多个 `CMakeLists.txt`
- Maven 中的多个 `pom.xml`
- Node.js 中的多个 `package.json`

**你只需要打开 `EagleFramework.pro` 这一个文件即可！** Qt Creator 会自动处理所有子项目。
